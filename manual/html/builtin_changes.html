<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

  
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />

  <title>Era Manual</title>
  <link href="css.css" rel="stylesheet" type="text/css" />

  <link href="erm8.css" rel="stylesheet" type="text/css" />
<!--[if lt IE 8]><link href="erm.css" rel="stylesheet" type="text/css" /><![endif]-->


  <style type="text/css">
	.auto-style1 {
	text-align: center;
	}
	.card {
	border: 1px dotted rgb(102, 102, 102);
	background-color: rgb(220,220,220);
	margin-bottom: 15px;
	}
	.tit {
	text-align: center; background-color: black; color: gray; font-size: 12pt; font-weight: bold
	}
	.t1 {
	background-color: rgb(162,162,162)
	}
	.t2 {
	background-color: silver
	}
	.auto-style2 {
	font-size: 12px;
	font-weight: lighter;
	text-align: center;
	vertical-align: super;
	}
	.auto-style7 {
	color: rgb(51, 51, 51);
	font-size: 14px;
	font-weight: normal;
	font-variant: small-caps;
	text-decoration: none;
	}
	.TFlag {
	border-bottom: black 2px groove;
	border-left: black 2px groove;
	border-top: black 2px groove;
	border-right: black 2px groove;
	}
	.TRegisterDiv {
	background-color: #666666;
	outline-style: groove;
	outline-color: white;
	outline-width: 2px;
	color: yellow;
	font-size: 150%;
	cursor: pointer;
	}
    .auto-style8 {
		color: rgb(128, 128, 128);
	}
    .Spaun-color {
		color: rgb(0, 0, 0);
	}
    </style>
</head>


<body>


<div id="header">
<table border="0" cellpadding="0" cellspacing="0" width="100%">


	<tbody>


		<tr>


			<td id="logo" class="auto-style1">
				<a href="http://wforum.heroes35.net/index.php" name="0" target="_blank">
				<img src="../images/logo-en.png" alt="WForum.Heroes35.net" border="0" /></a></td>


		</tr>


	
  
  </tbody>
</table>


</div>




<div id="heading">
<table border="0" cellpadding="0" cellspacing="0" width="100%">


  <tbody>


	<tr>


		<td>
			
      
      <h1>Heroes mod maker manual<br />


			&raquo; Built-in Era features</h1>


		</td>


		<td id="desc">
			<a href="http://wforum.heroes35.net/member.php?action=profile&amp;uid=481">
			Berserker</a><br />


			<a href="http://wforum.heroes35.net/" target="_blank">
			http://wforum.heroes35.net/</a><br />


			25.07.2011 		</td>


	</tr>


  
  
  </tbody>
</table>


</div>



<div id="content">
	<strong>Version</strong>: <font color="#008000"> <b>1.0</b></font><br />


	<strong>Latest update</strong>: 15.08.2011<br />


	<b>Author</b>: Berserker
<br />


<br />


<br />


<table style="width: 100%;">


	<tbody>

    <tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#1" class="auto-style8">
		<strong class="txt-2">Lod-archives autoloading</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#2" class="auto-style8">
		<strong class="txt-2">Import/export of scripts from the loaded game</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#3" class="auto-style8"><strong class="txt-2">Color text</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>

    <td class="auto-style16"><a href="#4" class="auto-style8"><strong class="txt-2">Most recent saving highlighting</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#5" class="auto-style8"><strong class="txt-2">DL-dialogs centering fix for high resolutions playing</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#6" class="auto-style8">
		<strong class="txt-2">ERM HE:A command fix</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#7" class="auto-style8">
		<strong class="txt-2">ERM HE:A3 command fix</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#8" class="auto-style8">
		<strong class="txt-2">ERM HE:A# command fix</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#9" class="auto-style8">
		<strong class="txt-2">ERM DL:C command fix</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#10" class="auto-style8">
		<strong class="txt-2">ERM CA:B3 command fix</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#11" class="auto-style8">
		<strong class="txt-2">Fixing of game crashes on processors with multiple logical/physical cores</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#12" class="auto-style8">
		<strong class="txt-2">Accelerated work with ini-files</strong></a></td>


	</tr>


	<tr>


		<td class="auto-style6" style="width: 32px;">
		<img src="../images/go_24.png" height="24" width="24" /></td>


		<td class="auto-style16"><a href="#13" class="auto-style8">
		<strong class="txt-2">Autofilling players names in hotseat</strong></a></td>


	</tr>



	
  
  </tbody>
</table>


</div>


<a name="1" href="#0">
<h2>Lod-archives autoloading &uarr;</h2>


</a>
<p class="txt-3-Paragraph">No more need to distribute mods in the form of installation packages which import files in two main game archives: <span class="code">h3sprite.lod</span> and <span class="code">h3bitmap.lod</span>. 
Era loads all lod-archives with <span class="code">*.pac</span>
extension found in Data. The priority of loading is determined by
alphabetical order of file names. The files loaded later have the
higher priority in resource search. If two archives,
<span class="codeStd">"A.pac"</span> and <span class="codeStd">"B.pac"</span>, replace the same picture then the picture from the archive <span class="codeStd">"B.pac"</span> will be used.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="2" href="#0">
<h2>Import/export of scripts from the loaded game &uarr;</h2>


</a>
<p class="txt-3-Paragraph">Key <span class="code">F12</span> press leads to loading of scripts <span class="codeStd">script[00..99]</span> from <strong>"Data\s"</strong>
folder with their recompilation. The game process is not broken if no
ERM dialog is opened at the time of key press. This function allows
very effective debugging and operative uploading of new scripts
versions into the existing savings.</p>


<p class="Comment-warning">Don't use <span class="code">F12</span> if the map has built-in scripts.<br />


It's recommended for the creators of complex and interesting maps to distribute them with standalone scripts to be installed in <span class="codeStd">"Data\s" folder.</span></p>


<p class="txt-3-Paragraph">Key <span class="code">F11</span> press saves all basic scripts <span class="codeStd">
script[00..99]</span> from the game memory to <strong>"Data\s\ExtractedScripts"</strong> folder.
Such opportunity will be very useful if there is a need to analyse the saving or alterate it.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="3" href="#0">
<h2>Color text  &uarr;</h2>


</a>
<p class="txt-3-Paragraph">Combination of two colors: light-gold and
white is used in all game dialogs. In order to highlight the word with gold, it should be wrapped with special brackets:<br />


<span class="code">"{word}".<br />


</span>Such practice is called color tags usage.<br />


<br />


Era adds color tags support in the game in the following format:<br />


<span class="code">"{~color name}...text including nested tags...{~}"</span>.<br />


<br />


The same principle as the one used in HTML is applied:<br />


Opening tag
<span class="code">({~color})</span> colors the text in  the specified color until other color tag or closing tag <span class="code">
({~})</span> is met.<br />


<br />


The next example clearly illustrates the above-mentioned:<br />


<span class="code">"White {~red} Red {~blue} Blue {~} Red {~} 
White".<br />


<br />


</span>The color can be specified either in numeric hexadecimal form <span class="codeStd">(xxxxxx, example: ff0057)</span> or via registered color name. The full list of 147 registered standard html-colors can be viewed on the page <img src="../images/page_pass.png" height="13" width="11" /><a href="standard_colors.html">Standard colors table</a>.<br />


<br />


Besides, third-party plugins can register new color names in the event <span class="codeStd">"OnNameColors"</span>. Also there is short synonyms list for the most popular colors:<br />


<br />


r = Red<br />


g = Green<br />


b = Blue<br />


y = Yellow<br />


w = White<br />


o = Orange<br />


p = Purple<br />


a = Aqua</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="4" href="#0"><h2>Most recent saving highlighting &uarr;</h2></a>


<p class="txt-3-Paragraph">It often occurs that after game run we
start routine enumeration of all saving in the hope to remember the
last used one. Now the game finds the most recent file itself and
automatically highlights it in game lists which allows you to preserve
time and nerves.</p>


<p class="txt-3-Paragraph">&nbsp;</p>



<a name="5" href="#0"><h2>DL-dialogs centering fix for high resolutions playing &uarr;</h2></a>
<p class="txt-3-Paragraph">The original dialogs created using ERM
DL-command were binded to the 800x600 resolution which caused invalid
centering for high resolutions.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="6" href="#0"><h2>ERM HE:A command fix &uarr;</h2></a>
<p class="txt-3-Paragraph">Syntax of getting value into variables with negative indexes did not work correctly. For instance: <span class="code">y-5</span>. This issue leaded to errors in several stardard WoG scripts.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="7" href="#0"><h2>ERM HE:A3 command fix &uarr;</h2></a>


<p class="txt-3-Paragraph">Deleting artifacts from backpack did not lead to decreasing their counter.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="8" href="#0">
<h2>ERM HE:A# command fix &uarr;</h2>


</a>
<p class="txt-3-Paragraph">The result of operation was unknown. Now flag 1 is indicator of success.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="9" href="#0">
<h2>ERM DL:C command fix &uarr;</h2>


</a>
<p class="txt-3-Paragraph">The command closed the whole dialogs chain instead of current one.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="10" href="#0">
<h2>ERM CA:B3 command fix &uarr;</h2>


</a>
<p class="txt-3-Paragraph">The command of checking already built buildings did
not always work correctly. In particular wrong results were returned if
you tried to check the creature dwellings.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="11" href="#0">
<h2>Fixing of game crashes on processors with multiple logical/physical cores &uarr;</h2>


</a>
<p class="txt-3-Paragraph">Such crashes are regular, occur at random
addresses and could not be fixed till recent time. The solution was
found in binding the game process to the first logical core.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="12" href="#0">
<h2>Accelerated work with ini-files &uarr;</h2>


</a>
<p class="txt-3-Paragraph">Slow functions for working with ini-files
were replaced with quick ones. Moreover, the file is cached on the
first reference and repeated references don't acces hard disk.</p>


<p class="txt-3-Paragraph">&nbsp;</p>


<a name="13" href="#0">
<h2>Autofilling players names in hotseat &uarr;</h2>


</a>
<p class="txt-3-Paragraph">Start and loading of hotseat game is
traditionally followed by entering the names of two players to enable
OK button. Now the game generates two names itself and the button is
active from the moment of dialog opening.</p>



<div>
<br />


<br />


<br />


<br />


<br />


<table style="border-top: 2px solid rgb(51, 51, 51); border-bottom: 2px solid rgb(51, 51, 51); width: 100%; height: 28px; background-color: rgb(192, 192, 192); color: rgb(51, 51, 51);" class="AHSTable">


	<tbody>

    <tr>


		<td class="auto-style1" valign="middle">
		<a href="#" onclick="var div = this.parentNode.getElementsByTagName('div')[0]; if(div.style.display != '') { div.style.display = ''; this.innerHTML = '» Association of heroes sites «';}else{ div.style.display = 'none'; this.innerHTML = '« Association of heroes sites »';} return false" class="auto-style7">&laquo; Association of heroes sites &raquo;</a>
		
      
      <div style="display: none;">
			<span style="">
			
      
      <div style="border-style: dotted none none; border-color: rgb(51, 51, 51); border-width: 1px 0px 0px; padding: 1em 1em 0em; background: rgb(229, 229, 229) none no-repeat scroll 2.2em center; -moz-background-clip: initial; -moz-background-origin: initial; -moz-background-inline-policy: initial; margin-bottom: 1.5em; color: rgb(68, 68, 68); margin-top: 0.3em; height: 158px; text-align: center;">
            	
      <span>            	
      
      <table class="card" align="middle">


	<tbody>

          <tr>


		<td class="auto-style2" colspan="6" align="middle">About &laquo;Might and Magic&raquo; series games</td>


	</tr>


	<tr align="middle">


		<td class="auto-style2" width="10%">
		<a id="wogflag1" alt="Heroes Portal" href="http://bers.heroes35.net/ahs/go.php?go=heroesportal.net" target="_blank" title="Heroes Portal - international internet resource, offline and online tournaments.">
		<img src="../images/ahs/ahs_heroesportal.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag2" alt="Heroes Fan-site" href="http://bers.heroes35.net/ahs/go.php?go=heroes-m-and-m.com" target="_blank" title="Fan-site for &quot;Heroes of Might and Magic&quot; series">
		<img src="../images/ahs/ahs_heroes_mandm.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag3" alt="Heroes Community" href="http://bers.heroes35.net/ahs/go.php?go=heroes1-5.at.ua" target="_blank" title="Site devoted to M&amp;M, HoMM and KB words.">
		<img src="../images/ahs/ahs_heroes_community.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag4" alt="Heroes Remake Site" href="http://bers.heroes35.net/ahs/go.php?go=remake-heroes.ucoz.ru" target="_blank" title="Heroes 3.5 news. Russian Heroes Project.">
		<img src="../images/ahs/ahs_russian_heroes3.5.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag5" alt="Heroes 3 Online" href="http://bers.heroes35.net/ahs/go.php?go=geroi-3.narod.ru" target="_blank" title="Geroi-3.narod.ru - about network Heroes 3 playing for newbies: where to download the game, how to connect, where players can be found">
		<img src="../images/ahs/ahs_heroes3_help.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag6" alt="Heroes Bulletin" href="http://bers.heroes35.net/ahs/go.php?go=woggrad.ru" target="_blank" title="'Heroes Bulletin' - Internet-magazine devoted to computer games of 'Heroes of Might &amp; Magic' series and other close-thematics games.">
		<img src="../images/ahs/ahs_vestnik_heroes.png" height="31" width="88" /></a></td>


	</tr>


        
        </tbody>
      
      </table>



      
      <table class="card" align="middle">


	<tbody>

          <tr>


		<td class="auto-style2" colspan="6" align="middle">
	<span>Modmaking and mods, towns, campaigns and maps, materials, resources and tools</span>
		</td>


	</tr>


	<tr align="middle">


		<td class="auto-style2" width="10%">
		<a id="wogflag7" alt="New Towns Site" href="http://bers.heroes35.net/ahs/go.php?go=heroes3towns.com" target="_blank" title="Learn more about Heroes 3 towns!">
		<img src="../images/ahs/ahs_new_town.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag8" alt="Kremlin Site" href="http://bers.heroes35.net/ahs/go.php?go=woggrad.ru" target="_blank" title="Kremlin. Slavic town">
		<img src="../images/ahs/ahs_kremlin.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag9" alt="Terry Pratchetts Mod" href="http://bers.heroes35.net/ahs/go.php?go=tp-mod.ucoz.net" target="_blank" title="Terry Pratchetts Mod, modification for Heroes III game">
		<img src="../images/ahs/ahs_tpmod.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag10" alt="Catalog of H3 Mods." href="http://bers.heroes35.net/ahs/go.php?go=packa.ucoz.ru/forum/61-184-1" target="_blank" title="Catalog of Heroes 3 mods.">
		<img src="../images/ahs/ahs_catalog_of_mods.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag11" alt="Heroes Portal" href="http://bers.heroes35.net/ahs/go.php?go=heroesportal.net" target="_blank" title="Heroes Portal - international internet resource, offline and online tournaments.">
		<img src="../images/ahs/ahs_newmaps.png" height="31" width="88" /></a></td>


		<td class="auto-style2" width="10%">
		<a id="wogflag12" alt="WoG Archive" href="http://bers.heroes35.net/ahs/go.php?go=wogarchive.ru" target="_blank" title="WoG Archive. The biggest materials collection for Heroes 3. More than gigabyte of data.">
		<img src="../images/ahs/ahs_wogarchive.png" height="31" width="88" /></a></td>


	</tr>


        
        </tbody>
      
      </table>


      </span>
      </div>


      </span></div>

      </td>

    </tr>

  
  </tbody>
</table>



<div id="fblock">
	
	<a href="http://bers.heroes35.net/ahs/go.php?go=heroesportal.net"></a>
	
<div id="fblock0">
	
	
<div id="copy">
			Copyright &copy; 2009 &mdash; 2011, Berserker</div>


</div>


</div>


</div>


<script src="../erm.js"></script>
</body>
</html>
