<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251"><title>
Ресивер UN</title>
<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="../style.css">
<script language="JScript" src="script.js"></script></head>

<body scroll="no">
<DIV id="buttonMenu">
<SPAN CLASS="options">Опции&nbsp;UN:&nbsp;&nbsp;</SPAN>

	<A HREF="#A" title="Настройка артефактов" CLASS="button">A</A>
	<A HREF="#B" title="Новые сундуки и мифрил" CLASS="button">B</A>
	<A HREF="#C" title="Работа с оперативной памятью" CLASS="button">C</A>
	<A HREF="#D" title="Сделать воду доступной для прохождения" CLASS="button">D</A>
	<A HREF="#E" title="Проверка на возможность помещения объекта" CLASS="button">E</A>
	<A HREF="#F" title="Поджечь" CLASS="button">F</A>
	<A HREF="#G" title="Изменить имя/описание вторичного навыка/монстра/специальности героя" CLASS="button">G</A>
	<A HREF="#H" title="Скрыть часть карты" CLASS="button">H</A>
	<A HREF="#I" title="Поместить объект" CLASS="button">I</A>
	<A HREF="#J" title="Запретить заклинание; настроить ограничение уровнем/опытом; сложность игры; файл WoG'ификации; автосохранения; генерация артефакта; настройка торговцев артефактами; работа с внешними текстовыми файлами" CLASS="button">J</A>
	<A HREF="#K" title="Параметры новой недели" CLASS="button">K</A>
	<A HREF="#L" title="Переместить взгляд на позицию; проверка на посещение обелиска" CLASS="button">L</A>
	<A HREF="#M" title="Месяц &hellip;" CLASS="button">M</A>
	<A HREF="#N" title="Получить название артефакта/заклинания/здания/монстра/вторичного навыка" CLASS="button">N</A>
	<A HREF="#O" title="Удалить объект" CLASS="button">O</A>
	<A HREF="#P" title="Настройка правил игры" CLASS="button">P</A>
	<A HREF="#Q" title="Победа в игре" CLASS="button">Q</A>
	<A HREF="#R" title="Обновление экрана; курсора; задержка" CLASS="button">R</A>
	<A HREF="#S" title="Показ части карты" CLASS="button">S</A>
	<A HREF="#T" title="Настройка монстров для найма в городах" CLASS="button">T</A>
	<A HREF="#U" title="Подсчёт объектов" CLASS="button">U</A>
	<A HREF="#V" title="Получение версии WoG и ERM" CLASS="button">V</A>
	<A HREF="#W" title="Сделать линию воды доступной для ходьбы" CLASS="button">W</A>
	<A HREF="#X" title="Получить размер карты" CLASS="button">X</A>
 <SPAN CLASS="buttoninactive">Y</SPAN>
 <SPAN CLASS="buttoninactive">Z</SPAN>
	<A style="position:absolute; right:4" href="#UP" CLASS="button" title="Вернуться к началу">&uarr;</a>

</DIV>

<DIV id="text">
<a name="up"></a>
<p align="center"><font size="5">Ресивер <b>UN</b> (универсальная команда) </font></p>
<p>
<br><b><font id="red">!!UN:XXXX;</font> 
- универсальная команда. Используется для изменений в карте и/или игре.</b></p>
<hr noshade>
<p>
<font id="red"><b><a name="A"></a>A#/$</b></font><br>
Установить/проверить/получить доступность артефакта на карте:
<pre>        # – <a target="form" href="../form/A1.htm">номер артефакта</a>
        $ = 1 – артефакт запрещён
	$ = 0 – артефакт разрешён</pre></p>
<hr noshade><p>
<font id="red"><b><a name="A1"></a>A#1/#2/$</b></font><br>
Установить/проверить/получить информацию про артефакт.
<pre>        #1 – <a target="form" href="../form/A1.htm">номер артефакта</a>
        #2 – тип информации
	= 1 – цена
	= 2 – <a target="form" href="../form/AP2.htm">позиция на теле</a>
	= 3 – тип (класс)
	= 4 – номер <a target="form" href="../form/A2.htm">комбо-артефакта</a>
	= 5 – часть комбо-артефакта
	= 7 – артефакт WoG
	= 8 – даёт заклинание или нет
	= 9 – имя артефакта
	= 10 – описание артефакта
        $ - значение</pre>
<u><b onclick="HideIt(1)" class="h">Комментарий (<b id="show1">показать</b>)</b></u><div id="1" class="b">
<ol>
<li><b id="WT">Цена:</b> Артефакт можно продать в торговцах артефактами за 1/5 установленной цены, если вы не обладаете дополнительными торговцами. Грааль и новые WoG-артефакты имеют цену 0.</li>
<li><b id="WT">Позиция на теле:</b> если вы помещаете артефакт на некорректную позицию с помощью ERM, дополнительные параметры никуда не исчезнут. Например, вы установили, что Сандалии Святого надевают на голову вместо ног, вы получите все параметры +2 (и потеряете их, когда снимите).<br>
Если герой имеет уже надетый артефакт и вы измените слот артефакта через ERM, артефакт останется полностью функциональным до его снятия, далее его одеть можно будет только в измененный слот.</li>
<li><b id="WT">Тип:</b> Это значение определяет класс артефакта – нет класса (книга заклинаний, боевые машины и Грааль) (1), сокровище (2), ценный (4), важный (8) и реликт (16), которые включают комбо-артефакты и три новых ВоГ-артефакта. Другие значения могут быть установлены для получения смешанного класса (или своего).</li>
<li><b id="WT">Номер комбо-артефакта:</b> каждая комбинация имеет свой номер. Первый комбо-артефакт, Альянс Ангелов, имеет номер 0, и последний, Рог Изобилия - 11. 
Не-комбо-артефакты имеют значение -1.<br>
Внимание: если вы ставите стандартным сборным артефактам (вроде Альянса Ангелов) это значение на -1 (что это НЕ комбо-артефакт), то они не будут добавлять что-либо к параметрам героя, но сохранят свои дополнительные свойства (вроде Молитвы или иммунитета к магии до 4го уровня)</li>
<li><b id="WT">Часть комбо-артефакта:</b> если артефакт – один из составных частей, значение будет номером комбо-артефакта. И если артефакт не часть комбо, значение будет -1.</li>
<li>НЕ ИСПОЛЬЗУЕТСЯ.</li>
<li><b id="WT">Артефакт WoG:</b> данный параметр установлен на 0 у всех артефактов, кроме 141, 142 и 143, у которых он равен 1.</li>
<li><b id="WT">Даёт заклинание:</b> это значение установлено на 0 для большинства артефактов, и на 1 для артефактов типа Томов магии, Шляпы оратора, Шляпы капитана – то, что по умолчанию даёт заклинания. Сейчас невозможно проверить, какое заклинание добавляется, однако, небольшая проверка всех заклинания героя перед экипировкой и после позволяет их вычислить.<br>
Установка этого значения на 0 (если по умолчанию 1) отменяет получение заклинаний.</li>
<li><b id="WT">Имя артефакта:</b> 
этим можно установить имя артефакта. $ - номер <i>z</i>-переменной, содержащей имя артефакта. Значение 0 восстанавливает оригинально название. Часто используемый трюк с этой опцией - переименование артефактов и использование их картинок с другим описанием в диалоговых окнах.</li>
<li><b id="WT">Описание артефакта:</b> этим можно установить описание артефакта. $ - номер <i>z</i>-переменной, содержащей описание артефакта. Значение = 0 восстанавливает оригинальное описание.</li>
</ul></div>
</p>
<hr noshade><p>
<font id="red"><b><a name="A2"></a>
A#/$/#1/#2[/#3/#4/#5/#6/#7/#8/#9/#10/#11/#12/#13/#14]</b></font><br>
Менеджер комбо-артефактов.<br>Построить/удалить комбо артефакт:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # – <a target="form" href="../Form/A2.htm">номер комбо</a> (0..31)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ – 
установить/проверить/получить 
<a target="form" href="../Form/A1.htm">номер комбо-артефакта</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – 
<a target="form" href="../form/A1.htm">часть 1</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 –
<a target="form" href="../form/A1.htm">часть 2</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 –
<a target="form" href="../form/A1.htm">часть 3</a> 
(опционально)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&hellip;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&hellip;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #14 – 
<a target="form" href="../form/A1.htm">часть 14</a> (опционально)<br>
<i>Результат:</i> комбо-артефакт создан. Если успешно, флаг 1 устанавливается на 
1.<br>
<u><b onclick="HideIt(2)" class="h">Комментарий (<b id="show2">показать</b>)</b></u>
<div id="2" class="b"><ul>
<li>Вы можете использовать синтаксис инструкции (!#UN:A).</li>
<li>Все комбо-артефакты записываются в специальную таблицу. Эта таблица вмещает 
до 32 записей. Так что возможно установить до 32 комбо-артефактов. Все 
стандартные комбо уже записаны в таблице (первые 12 строк)</li>
<li>$ = номеру артефакта, который появится при сборке.</li>
<li>Вы можете проверить, пуста строка таблицы комбо-артефактов или нет:
<script type="erm">!!UN:A5/?v100/0/0;</script>
Получить номер комбо-артефакта в строке 5 комбо-таблицы в v100. Два нуля в конце 
нужны для корректной работы команды. В синтаксисе проверки и получения 
дополнительный параметры (нули) игнорируются. Пустая строка комбо-таблицы даст 
значение 0. Так, если в приведенном выше примере, v100 = 0, строка пуста и может 
быть использована. Вы можете удалить комбо-артефакт без добавления нового. 
Используйте номер комбо-артефакта 0 для этого.<br>
<u>Пример</u>:
<script type="erm">!!UN:A5/0/0/0;
Первый ноль удаляет информацию о комбо из 5й строки таблицы. 
Следующие два нуля нужны для корректной работы команды.</script></li>
<li>Важно! Только артефакты с номером <b>менее 160</b> могут быть <b>частью</b> составного 
артефакта, хотя все артефакты могут быть использованы в качестве собранного.</li>
</ul></div></p>
<hr noshade><p>
<font id="red"><b>
<a name="B"></a>B#/$</b></font><br>
Провести операции над новыми сундуками и Мифрилом.
<pre>        # – тип
	0 – Мифрил
	1..6 – новые сундуки
	7..10 – камни Силы
        $ – действие (0 = стандартое, 1 = особое)</pre>
Давайте рассмотрим подробнее каждый тип по отдельности:<br>
<u onclick="HideIt(4)" class="h"><b>Новый ресурс (<b id="show4">показать</b>)</b></u><div id="4" class="b">
<img src="../Img/UNB/Zmithr.gif" width="64" height="32" id="vc"> 
<a href="../Form/Resource.htm" target="form">Мифрил</a> – тип 79 / подтип 7.<br>
Для мифрила стандартная операция означает, что когда вы (или ИИ) возьмёте его, вы получите случайный ресурс, 
кроме дерева и руды и в кол-ве, установленном в редакторе (для золота, как всегда, *100).<br>
Расширенное действие для мифрила означает, что он будет добавляться к имеющемуся кол-ву Мифрила игрока.<br>
Вы можете установить или проверить кол-во мифрила командой <b id="erm"><a href="OW.htm#R"><font class="re">!!OW</font></a>:R#/7/$;</b> 
Оба действия работают и для ИИ, и для человека. ИИ считает мифрил золотом, вне зависимости, берёт он его или нет.</div><br>
<b><u onclick="HideIt(3)" class="h">Новые сундуки (<b id="show3">показать</b>)</u></b><div id="3" class="b">
<table border="0" width="100%" class="C" id="step">
	<tr>
		<td width="37"><img src="../Img/UNB/Zchst1.gif"></td>
		<td width="130">тип 101, подтип 1</td>
		<td width="5%"></td>
		<td width="37"><img src="../Img/UNB/Zchst4.gif"></td>
		<td width="130">тип 101, подтип 4</td>
		<td></td>
	</tr>
	<tr>
		<td><img src="../Img/UNB/Zchst2.gif"></td>
		<td>тип 101, подтип 2</td>
		<td></td>
		<td><img src="../Img/UNB/Zchst5.gif"></td>
		<td>тип 101, подтип 5</td>
		<td></td>
	</tr>
	<tr>
		<td><img src="../Img/UNB/Zchst3.gif"></td>
		<td>тип 101, подтип 3</td>
		<td></td>
		<td><img src="../Img/UNB/Zchst6.gif"></td>
		<td>тип 101, подтип 6</td>
		<td></td>
	</tr>
</table><br>
Для всех новых сундуков стандартная операция означает стандартный сундук сокровищ.<br>
Расширенное действие ничего не даёт герою-посетителю. В любом случае, сундук исчезает после его посещения.<br>
</div><br>
<u onclick="HideIt(5)" class="h"><b>Камни Силы (<b id="show5">показать</b>)</b></u><div id="5" class="b">
<table border="0" width="100%" class="C" id="step">
	<tr>
		<td width="80"><img src="../Img/UNB/ZCBON006.gif" width="64"></td>
		<td width="10">&nbsp</td>
		<td width="80"><img src="../Img/UNB/ZCBON106.gif" width="64"></td>
		<td width="10">&nbsp</td>
		<td width="80"><img src="../Img/UNB/ZCBON203.gif" width="64"></td>
		<td width="10">&nbsp</td>
		<td width="80"><img src="../Img/UNB/ZCBON303.gif" width="64"></td>
		<td width="10">&nbsp</td>
		<td></td>
	</tr>
	<tr>
		<td colspan="2">тип 101<br>подтип 7</td>		
		<td colspan="2">тип 101<br>подтип 8</td>
		<td colspan="2">тип 101<br>подтип 9</td>
		<td colspan="2">тип 101<br>подтип 10</td>
		<td></td>
	</tr>
</table>
<p>Камни силы работают так:
<ol><li>Не-WoG'ифицированная wog-карта без ERM, включенные WoG-опции: Командиры 
отключены, *или* Не-WoG'ифицированная карта с опцией &quot;Командиры&quot;, включенной с 
помощью ERM, Камни силы отключены через ERM:
<script type="erm">!#UN:P3/0;
!#UN:B7/0;
!#UN:B8/0; 
!#UN:B9/0;
!#UN:B10/0;</script>
*Или* WoG'ифицированная карта с отключенными командирами 
через WoG-опции, Камни силы разрешены или запрещены.<br>Результат: Камни силы 
работают, как обычные сундуки сокровищ.</li>
<li>Не-WoG'ифицированная wog-карта без ERM, включенные WoG-опции: &quot;Командиры 
разрешены&quot;, *или* Не-WoG'ифицированная wog-карта с помощью ERM-
разрешёнными командирами&nbsp; (<b id="erm"><font class="in">!#UN</font>:P3/0;</b>), Камни силы включены через ERM 
или НЕ отключены ERM 
(<b id="erm"><font class="in">!#UN</font>:B7/1;</b> и т.д.) *или WoG'ифицированная карта с разрешёнными командирами в 
WoG-опциях, Камни силы разрешены или запрещены.<br>
Результат, если командир героя жив: командир получает бонус от Камня силы.<br>
Результат, если командир героя мёртв: вопрос о разрушении камня.</li>
<li>Не-WoG'ифицированная wog-карта с отключенными командирами с помощью ERM, 
(<b id="erm"><font class="in">!#UN</font>:P3/1;</b>).<br>
Результат: Камни силы работают как более ценные сундуки сокровищ (до 7500 золота/7000 опыта)</li></ol>
</div></p>
<hr noshade>
<p><a name="C"></a><font id="red"><b>C#1/#2/$</b></font><br>
Команда производит запись/чтение напрямую по адресам оперативной памяти:
<pre>        #1 – базовый адрес
        #2 – кол-во байт (1, 2, 4)
         $ – значение</pre>
<script type="erm">!!UN:C0/4/0; гарантированный вылет из игры © Berserker</script>
<i>Расширение синтаксиса:</i><br>
<a name="C1"></a><font id="red"><b>C#1/#2/#3/$</b></font><a href="../Era/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a>
<pre>        #1 – базовый адрес (всегда используется <i class="file">GetRealAddr</i>)
        #2 – смещение в байтах
        #3 – кол-во байт
         $ – значение</pre>
<u><b onclick="HideIt(11)" class="h">Комментарий (<b id="show11">показать</b>)</b></u><div id="11" class="b"> 
<blockquote id="Q1"><b>Структуры</b> – массивы данных в памяти игры, для удобного хранения информации и чтения/записи программным кодом. Большинство ERM-команд изменяют данные внутри этих структур (таблиц).</blockquote>
UN:C автоматически поддерживает перемещённые структуры, то есть структуры, которые плагины перенесли в другое место памяти. Для этого нужно всегда указывать начало структуры в качестве базового адреса и корректное смещение (прибавить/убавить). Команда подставит новый базовый адрес и прибавит смещение.<br>
Структуры описаны в <a href="http://wforum.heroes35.net/files/wog358_sources.rar" target="_blank">исходном коде WoG 3.58f</a></div></p>
<p>См. также: <a href="../Cont/UNC.htm">примеры использования</a>, <a href="../Cont/Lib.htm">функции с использованием команды</a></p>
<hr noshade><p>
<font id="red"><b>
<a name="D"></a>D#1/#2/#3</b></font><br>
Сделать квадрат воды доступным для героя.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – Y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – L<br>
<i>Расширение синтаксиса:</i><br>
<font id="red"><b>D#1/#2/#3/$</b></font><br>
Поместить/удалить путь (бревна) на воде<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 1&nbsp;– поместить 
(добавить проходимость пешком)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 0 – не помещать (удалить
проходимость пешком)<br>
<u><b onclick="HideIt(6)" class="h">Комментарий (<b id="show6">показать</b>)</b></u><div id="6" class="b">
Квадрат с бревном недоступен для лодки, но доступен 
для ходьбы. Если не поместить бревно, квадрат становится обычным (т.е. доступным 
для лодки). Если выставить проходимость для лодки (x/y/l/0) квадрату-не-воде, 
игра выходит в чёрный экран. Если установить проходимость пешком на 
квадрате-не-воде, вместо него появится квадрат с водой и плавающим на ней 
бревном. В его описании будет написано &quot;Болото (можно копать)&quot;, и при раскопке 
на нём появится болотистая ямка.<br>
На данный момент единственная ERM-команда, которая 
опускаемый четвёртый параметр принимает как значение 1 (хотя все другие как 0).</div></p>
<hr noshade>
<p><font id="red"><b>
<a name="E"></a>E#1/#2/#3</b></font><br>
Проверить, можно ли поместить объект в координаты <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – Y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – L<br>
Осуществляет проверку на возможность помещения одноклеточного объекта в эти 
координаты. Если возможно, флаг 1 будет равен лжи, если нет, истине.<br>
<u><b onclick="HideIt(45)" class="h">Пример (<b id="show45">показать</b>)</b></u><div id="45" class="b">
<script type="erm">!!UN:E1/2/0;
!!IF&1:M^Сюда нельзя поместить объект^;
!!IF&-1:M^Сюда можно поместить объект^;</script></div></p>
<hr noshade><p>
<font id="red"><b>
<a name="F"></a>F$1/$2/$3/$4/$5</b></font><br>
Вызвать пожар (если возможно)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – X координата<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – Y координата<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $3 – L (0-поверхность, 1-подземелье)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $4 – dX<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $5 – dY<br>
dX, dY: имеем прямоугольник.<br>
Если верхний левый угол с координатами x и y&hellip;<br>
А нижний правый, допустим, x2 и y2&hellip; Тогда<br>
dX=x2-x<br>
dY=y2-y<br>
<u><b onclick="HideIt(7)" class="h">Комментарий (<b id="show7">показать</b>)</b></u> <div id="7" class="b">
Пока что данная команда возможна лишь для одного объекта - дерева. Этот объект можно найти в редактор карт &rarr; Замки &rarr; последний элемент. Вы можете увидеть действие этого скрипта, когда разрушите город Горыныча. 
Деревья около замка автоматически загораются при его разрушении.<br>
<b id="N1">WoG-Team</b>: &laquo;<i>Мы хотели сделать больше таких объектов (больше деревьев), но не успели. 
Мы можем сделать динамическую анимацию горения деревьев, затопления и чего-либо ещё. Всё готово, но объектов нет.</i>&laquo;</div> </p>
<hr noshade><p>
<font id="red"><b>
<a name="G"></a>G0/#1/#2/#3</b></font><br>
Установить текст вторичного навыка.
<pre>        #1 – <a target="form" href="../form/SecondarySkill.htm">номер навыка</a> (0..27)
        #2 – тип текста (0..3)
	0 – имя навыка
	1 – базовый уровень (описание)
	2 – продвинутый уровень (описание)
	3 – экспертный уровень (описание)
        $3 – номер <i>z</i>-переменной (1..1000)
	0 – восстановить оригинальный текст</pre>
<u><b onclick="HideIt(8)" class="h">Комментарий (<b id="show8">показать</b>)</b></u> <div id="8" class="b">
похоже на изменение имени и описания артефакта.<br>
Вы должны установить <i>z</i>-переменную с соответствующим текстом (вы можете 
использовать только глобальные <i>z</i>-переменные z1&hellip;z1000). Если вы измените текст 
использованной здесь <i>z</i>-переменной, он немедленно станет новым текстом навыка. 
Так что не используйте эти переменные для других дел.<br>
<u>Пример</u>:
<script type="erm">!#VRz10:S^Новое имя^;
!#VRz11:S^Новое описание^;

!$LE7/5/0;
!!UN:G0/2/0/10;
!!UN:G0/2/1/11;

!$LE8/5/0;
!!UN:G0/2/1/0;</script>
Данный скрипт установит имя и описание навыка Логистики на новые, если вы 
посетите локальное событие 7/5/0. Оригинальное описание базового уровня 
Логистики будет восстановлено после посещения локального события в 8/5/0.</div></p>
<hr noshade><p>
<font id="red"><b><a name="G1"></a>G1/#1/#2/$</b></font><br>
Изменить имя монстра.
<pre>        #1 – <a target="form" href="../form/Creature.htm">номер монстра</a>
        #2 – тип текста
	0 – имя одного монстра
	1 – имя нескольких монстров
	2 – специальный текст (описание)
        $ - <i>z</i>-переменная (или её номер), содержащая новый текст
	0 – восстановить по умолчанию</pre></p>
<hr noshade><p>
<font id="red"><b><a name="G2"></a>G2/#1/#2/#3</b></font><br>
Позволяет вам установить текст и картинку специализации героя.
<pre>        #1 – <a target="form" href="../form/NumberHeroes.htm">номер героя</a>
        #2 – что установить
	1 - малую картинку (видна в окне встречи героев, и т.п)
	2 – описание
	3 – картинку
        #3 – это:
	– номер <i>z</i>-переменной (0 – восстановить по умолчанию), если #2 = 2
	– номер картинки (<a target="form" href="../form/HeroesSpec.htm">0..356</a>), если #2 = (1 или 3)</pre></p>
<hr noshade><p>
<font id="red"><b>
<a name="H"></a>H#1/#2/#3/#4/#5</b></font><br>
Скрыть часть карты (область – круг)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – Y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – L (уровень)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – 
<a target="form" href="../form/GamersColor.htm">игрок</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #5 – радиус<br>
<b><u onclick="HideIt(9)" class="h">Комментарий (<b id="show9">показать</b>)</b></u> <div id="9" class="b">
Область будет скрыта <i>для всех</i>, <i>кроме</i> 
указанного игрока. Проверки на корректность номера игрока нет, т.е. игра обрабатывает значения вроде &plusmn;5678765 
без ошибок (результат - закрытый участок для всех игроков 0..7).</div></p>
<hr noshade><p>
<font id="red"><b>
<a name="I"></a>I#1/#2/#3/#4/#5/#6</b></font><br>
Поместить объект.
<pre>        #1 – X
        #2 – Y
        #3 – L (уровень)
        #4 – <a target="form" href="../form/Objects.htm">тип объекта</a>
        #5 – <a target="form" href="../form/Objects.htm">подтип объекта</a>
        #6 – обновить?
	1 – да (по умолчанию)
	0 – нет</pre>
Эта команда очень полезна, но есть несколько ограничений. Некоторые объекты нельзя поставить этой командой, 
т.к. они нуждаются в предварительной настройке в редакторе, а некоторые вообще не будут работать и могут вызвать нестабильность 
игры.<br>
<i>Дополнительный синтаксис:</i><br>
<font id="red"><b>I#1/#2/#3/#4/#5/#6/#7/#8/#9</b></font>
<pre>        #1&hellip;#5 – см. выше
        #6 – <a target="form" href="../form/Objects.htm">тип объекта 2</a>
        #7 – <a target="form" href="../form/Objects.htm">подтип объекта 2</a>
        #8 – <a target="form" href="../Form/Terrain.htm">почва</a>
        #9 – обновить?
	1 – да (по умолчанию)
	0 – нет</pre>
Это означает, что появится объект/подтип, который будет выглядеть как 
объект2/подтип2. Используйте эту команду с указанием нужной почвы для помещения 
объектов, сделанных под почву.<br>
<u>
<b onclick="HideIt(10)" class="h">Дополнительно о команде UN:I (<b id="show10">показать</b>)</b>
</u>
<div id="10" class="b">
<p>Перед тем, как проверять, ставится ли на карту объект при помощи ERM, нужно удостовериться, что его def-файл есть в Lod'е, а объект прописан в <i class="file">zobjcts.txt</i>. 
Впрочем, для теста можно просто поменять тип и подтип какому-нибудь объекту.
Подтип для ВСЕХ объектов может лежать в пределах 4-х байт (-2147483648&hellip;+2147483648). Установка подсказок работает нормально на отрицательных подтипах. 
Если превысить значение подтипа, то возможны два варианта:
Если поставить инструкцией, то на карте появится случайный монстр в случайном кол-ве. :-)
Если пост-инструкцией или позднее - то случайный монстр из редактора карт (тип=71, подтип=0, со входом, активен, но не монстр - ерунда, в общем).<br>
<br>
Список объектов, которые <i>будут</i> работать корректно без дополнительных настроек. Многие 
могут быть настроены специальным ресивером объекта, при желании.
<br><br>
<b>&middot;</b>&nbsp;Артефакт (тип=5, подтип=<a target="form" href="../Form/A1.htm">0..143</a>) - ресивер <a href="../Rec/AR.htm">!!AR</a><br>
<b>&middot;</b>&nbsp;Лодка (тип=8, подтип=0..2)<br>
<b>&middot;</b>&nbsp;Вуаль Тьмы (тип=15, подтип = 0)<br>
<b>&middot;</b>&nbsp;Жилище существ (тип=17, подтип=<a target="form" href="../Form/CreatureDwellings.htm">0..88</a> и 20, подтип=0..1) - ресивер 
<a href="../Rec/DW.htm">
!!DW</a><br>
<b>&middot;</b>&nbsp;<a name="gar"></a><a href="#" onclick="hidepic(47)" class="h">Гарнизон</a> (тип=33, подтип=0 (обычный), =1  (антимагический), =2 (перпендикулярный), =3 (антимагический перпендикулярный) - ресивер <a href="../Rec/GR.htm">!!GR</a><div id="47" class="b">
<table border=0 width="100%" cellpadding=2><tr>
	<td width="120" align="center"><img src="../Img/pic/AVCgar10.png" style="padding:5 12 10 5"></td>
	<td width="90%">Подтипов 2 и 3 нет в стандартной игре. Для помещения будет верно:<br>
	&nbsp;<b>&middot;</b>&nbsp;Обычный - 33/0<br>
	&nbsp;<b>&middot;</b>&nbsp;Обычный перпендикулярный - 219/0<br>
	&nbsp;<b>&middot;</b>&nbsp;Антимагический - 33/1<br>
	&nbsp;<b>&middot;</b>&nbsp;Антимагический перпендикулярный - 219/1</textarea></td></tr>
	<tr><td colspan=2>Все гарнизоны помещаются нормально. Тип 219 неактивен при помещении, однако достаточно сменить тип на 33 (см. <a href="../Rec/OB.htm#T">OB:T</a>) и всё будет в порядке.<br>
	Сама игра меняет тип перпендикулярным гарнизонам при загрузке карты, а тип 219 ей нужен для инициализации.<br>
	Гарнизоны с подтипом &gt; 1 воспринимаются как обычные.</td></tr>
</table><br></div>
<b>&middot;</b>&nbsp;Грааль (тип=36, подтип=0) - при помещении нескольких Граалей, учитывается только 
последний помещённый, таким методом можно обойти ограничение в 9 клеток от края 
карты.<br>
<b>&middot;</b>&nbsp;Маяк (тип=42, подтип=0..7 для <a target="form" href="../Form/GamersColor.htm">цвета</a> игрока или -1 для нейтрального) - ресивер
<a href="../Rec/MN.htm">!!MN</a> (как и для шахт)<br>
<b>&middot;</b>&nbsp;Башня Марлетто (тип=23, подтип=0)<br>
<b>&middot;</b>&nbsp;Двусторонний монолит (тип=45, подтип=<a target="form" href="../Form/Two-way%20monolith.htm">0..7</a>)<br>
<b>&middot;</b>&nbsp;Шахта (тип=53, подтип=<a target="form" href="../Form/Mines.htm">0..7</a>) - ресивер <a href="../Rec/MN.htm">!!MN</a><br>
<b>&middot;</b>&nbsp;Монстр (тип=54, подтип=<a target="form" href="../Form/Creature.htm">0..196</a>) - ресивер <a href="../Rec/MO.htm">!!MO</a><br>
<b>&middot;</b>&nbsp;Океанская бутыль (тип=59, подтип=0) - ресивер <a href="../Rec/SG.htm">!!SG</a> (как для знаков)<br>
<b>&middot;</b>&nbsp;Обсерватория красного дерева (тип=58, подтип=0)<br>
<b>&middot;</b>&nbsp;Ресурс (тип=79, подтип=0..6) - ресивер <a href="../Rec/AR.htm">!!AR</a> (как для артефактов)<br>
<b>&middot;</b>&nbsp;Святилище (тип=80, подтип=0)<br>
<b>&middot;</b>&nbsp;Верфь (тип=87, подтип=0..7 по <a target="form" href="../Form/GamersColor.htm">цвету</a> игрока или -1 для нейтрального) - ресивер
<a href="../Rec/SY.htm">!!SY</a><br>
<b>&middot;</b>&nbsp;Знак (тип=91, подтип=0) - ресивер <a href="../Rec/SG.htm">!!SG</a><br>
<b>&middot;</b>&nbsp;Свиток заклинания (тип=93, подтип=<a target="form" href="../Form/Spell.htm">0..69</a>) - ресивер <a href="../Rec/AR.htm">!!AR</a><br>
<b>&middot;</b>&nbsp;Замок (тип=98, подтип=0..8) - ресивер <a href="../Rec/CA.htm">!!CA</a><br>
<b>&middot;</b>&nbsp;Университет (тип=104, подтип=0) - ресивер <a href="../Rec/UR.htm">!!UR</a><br>
<b>&middot;</b>&nbsp;Хижина ведьмы (тип=113, подтип=0..27) - ресивер <a href="../Rec/WH.htm">!!WH</a><br>
<br>
Эти объекты потребуют дополнительной настройки через определённый ресивер для корректной работы:<br>
<br>
<b>&middot;</b>&nbsp;Костёр покинутого лагеря (тип=12, подтип=0) - ресивер <a href="../Rec/FR.htm">!!FR</a> (при помещении ресурс не задан)<br>
<b>&middot;</b>&nbsp;Лебединый пруд (тип=14, подтип=0) - ресивер <a href="../Rec/SW.htm">!!SW</a> 
(имеет нулевой номер при помещении)<br>
<b>&middot;</b>&nbsp;Скелет (труп) (тип=22, подтип=0) - ресивер <a href="../Rec/SK.htm">!!SK</a> 
(при помещении не имеет артефакта?)<br>
<b>&middot;</b>&nbsp;Событие (тип=26, подтип=0) - ресивер <a href="../Rec/LE.htm">!!LE</a> - если событие 
помещено этой командой (I), оно будет разрешено для всех игроков и НЕ будет отменено после посещения.<br>
<b>&middot;</b>&nbsp;Погреб (тип=39, подтип=0) - ресивер <a href="../Rec/LN.htm">!!LN</a> (при помещении не имеет ресурса)<br>
<b>&middot;</b>&nbsp;Камень знаний (тип=100, подтип=0) - ресивер <a href="../Rec/ST.htm">!!ST</a> 
(имеет нулевой номер при помещении)<br>
<b>&middot;</b>&nbsp;Святыня магии (тип=88..90, подтип=0) - ресивер <a href="../Rec/SR.htm">!!SR</a> 
(при помещении учат заклинанию &quot;Вызов корабля&quot;)<br>
<b>&middot;</b>&nbsp;Магический источник (тип=48, подтип=0) - ресивер <a href="../Rec/SP.htm">!!SP</a> 
(считается посещённым при помещении)<br>
<b>&middot;</b>&nbsp;Мистический сад (тип=55, подтип=0) - ресивер <a href="../Rec/GD.htm">!!GD</a> 
(считается посещённым при помещении)<br>
<b>&middot;</b>&nbsp;Обелиск (тип=57, подтип=0) - ресивер <a href="../Rec/MT.htm">!!MT</a> (имеет нулевой номер при помещении)<br>
<b>&middot;</b>&nbsp;Пирамида (тип=63, подтип=0)&nbsp; - ресивер <a href="../Rec/PM.htm">!!PM</a> 
(считается посещённым при помещении)<br>
<b>&middot;</b>&nbsp;Учёный (тип=81, подтип=0) - ресивер <a href="../Rec/SC.htm">!!SC</a> (при помещении учит +1 атаки)<br>
<b>&middot;</b>&nbsp;Потерпевший кораблекрушение (тип = 86, подтип=0) (используйте 
<a href="../Rec/OB.htm#C">OB:C</a> для настройки артефакта, при помещении у него Книга Заклинаний)<br>
<b>&middot;</b>&nbsp;Сундук сокровищ (тип=101, подтип=0) - ресивер <a href="../Rec/CH.htm">!!CH</a> 
(значение CH:B0 при помещении)<br>
<b>&middot;</b>&nbsp;Древо знаний (тип=102, подтип=0) - ресивер <a href="../Rec/KT.htm">!!KT</a> 
(учит бесплатно, имеет нулевой номер при помещении)<br>
<b>&middot;</b>&nbsp;Телега (тип=105, подтип=0) - ресивер <a href="../Rec/WG.htm">!!WG</a> 
(при помещении находка не задана)<br>
<b>&middot;</b>&nbsp;Гробница воина (тип=108, подтип=0) - ресивер <a href="../Rec/WT.htm">!!WT</a> 
(при помещении артефакт не задан)<br>
<b>&middot;</b>&nbsp;Водяная мельница (тип=109, подтип=0) - ресивер <a href="../Rec/WM.htm">!!WM</a> 
(при помещении не имеет золота)<br>
<b>&middot;</b>&nbsp;Ветряная мельница (тип=112, подтип=0) - ресивер <a href="../Rec/ML.htm">!!ML</a> 
(при помещении не имеет ресурса)</p>
<p>Эти объекты НЕ будут работать корректно и могут вызвать нестабильность игры, вылет карты или другие проблемы при помещении:</p>
<p><b>&middot;</b>&nbsp;Пустышка (тип = 1) - игра вылетит при попытке помещения объекта<br>
<b>&middot;</b>&nbsp;Якорь (тип = 3) - игра вылетит при попытке помещения объекта<br>
<b>&middot;</b>&nbsp;Ящик Пандоры (тип=6) - игра вылетит при посещении объекта<br>
<b>&middot;</b>&nbsp;Чёрный Рынок (тип=7) - игра вылетит при посещении объекта<br>
<b>&middot;</b>&nbsp;Герой (тип=34) (используйте команду <a href="../Rec/HE.htm#P">HE:P</a> для помещения героя на карту)<br>
<b>&middot;</b>&nbsp;Тип 50, объект изначально отсутствует в игре<br>
<b>&middot;</b>&nbsp;Тюрьмы (тип=62) - видимых проблем не создаёт, при посещении объявляется, что 
герой был освобождён королём, и тюрьма исчезает.<br>
<b>&middot;</b>&nbsp;Хижина провидца (тип=83) - игра вылетает при наведении мышью на объект или при 
посещении, НО вы можете корректно поместить объект (см. ниже)<br>
<b>&middot;</b>&nbsp;Страж прохода (тип=215)</font><br>
<b>&middot;</b>&nbsp;Гарнизон (тип = 219) - гарнизон просто не работает (<a href="#gar" onclick="HideIt(11)">см. выше</a> о причине)</p>
<p>Некоторые объекты имеют разные модели для разной почвы. Для их помещения 
используйте синтаксис&hellip;
<script type="erm">!!UN:Ix/y/l/T/S/T/S/tr;</script> где <b>x/y/l</b> - координаты, 
<b>T</b> - тип 
объекта, <b>S</b> - подтип, <b>tr</b> - <a target="form" href="../Form/Terrain.htm">почва</a>, на которой находится нужный объект.<br>
<u>Пример</u>:
<script type="erm">!!UN:I25/25/0/12/0/12/0/0; - поместить обычный костёр
!!UN:I26/25/0/12/0/12/0/3; - поместить костёр с текстурами снега
!!UN:I24/25/0/12/0/12/0/1; - поместить костёр с текстурами песка</script></p>
<p><b>&middot;</b>&nbsp;Костёр покинутого лагеря (тип = 12) - имеет вариации для песка, снега, подземелья, лавы.<br>
<b>&middot;</b>&nbsp;Лебединый пруд (тип = 14) - имеет вариации для грязи, травы и болота<br>
<b>&middot;</b>&nbsp;Фонтан удачи (тип = 30) - имеет заснеженную вариацию<br>
<b>&middot;</b>&nbsp;Форт на холме (тип = 35) - имеет заснеженную вариацию<br>
<b>&middot;</b>&nbsp;Волшебный Колодец (тип = 49) - имеет заснеженную вариацию<br>
<b>&middot;</b>&nbsp;Шахты (тип = 53) - имеют вариации для разных почв<br>
<b>&middot;</b>&nbsp;Обелиск (тип = 57) - имеет вариации цвета для каждой почвы<br>
<b>&middot;</b>&nbsp;Обсерватория Красного дерева (тип = 58) - имеет снежную вариацию<br>
<b>&middot;</b>&nbsp;Хижина провидца (тип = 83, подтип 0-2) - с помощью данного синтаксиса вы можете 
поместить её, но она будет заброшена провидцем, почва не влияет на внешний вид.<br>
<b>&middot;</b>&nbsp;Склеп (тип = 84) - имеет вариацию со снегом (по умолчанию) и без<br>
<b>&middot;</b>&nbsp;Знак (тип = 91) - имеет вариации для разных почв<br>
<b>&middot;</b>&nbsp;Рынок (тип = 99) - имеет вариации для грязи, скал<br>
<b>&middot;</b>&nbsp;Водяная мельница (тип = 109) - имеет вариации для травы и для снега (по умолчанию)<br>
<b>&middot;</b>&nbsp;Ветряная мельница (тип = 112) - имеет вариации для травы (по умолчанию) и для снега</p></div>
</p>
<hr noshade><p>
<font id="red"><b>
<a name="J"></a>J#<br>
J0/#/$</b></font><br>
Запретить заклинание.
<pre>        # – <a target="form" href="../form/Spell.htm">номер заклинания</a> (0..69)
        $ – разрешить (0) или запретить (1)</pre>
<u><b onclick="HideIt(12)" class="h">Комментарий (<b id="show12">показать</b>)</b></u> <div id="12" class="b">
Этот запрет работает только для гильдий магов и пирамид, но вы можете проверить значение, установленное здесь, для любого ERM-скрипта. Так как магические гильдии и пирамиды генерируют заклинание в начале карты (перед полной загрузкой), 
мы советуем использовать эту команду как инструкцию.<br>
Для Святынь магии запрет не работает, т.к. используются другие внутренние механизмы. 
Однако вы можете изменить заклинание Святыни проверкой через ресивер <a href="SR.htm">!!SR</a>.</div></p>
<hr noshade><p>
<font id="red"><b><a name="J1"></a>J1/$1/?$2</b></font><br>
Установить/получить ограничение уровнем и опытом.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – уровень ограничен $1 (установить/проверить/получить)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – опыт для этого <a target="form" href="../Form/HeroesLevels.htm">уровня</a> (только получить)<br>
<u><b onclick="HideIt(13)" class="h">Комментарий (<b id="show13">показать</b>)</b></u><div id="13" class="b">
Опыт автоматически устанавливается для этого уровня.<br>
<u>Пример</u>:
<script type="erm">!!UN:J1/35/?y10;
Здесь мы установим потолок в 35 уровней и запомним число опыта до 35го уровня в y10.

!!UN:J1/?y1/d J1/30/?y2 J1/y1/d;
Найдём кол-во опыта, которое будет при получении 30 уровня, не изменяя ограничения на уровень и опыт
(т.е. мы можем динамически находить нужные числа, не прибегая к таблице)</script>
</div></p>
<hr noshade><p>
<font id="red"><b><a name="J2"></a>J2/$</b></font><br>
Установить/проверить/получить сложность, выбранную игроком (0..4)</p>
<hr noshade><p>
<font id="red"><b><a name="J3"></a>J3</b></font><br>
Эта команда позволяет вам установить путь к файлу, содержащему настройки 
WoG'ификации.<br>
<u><b onclick="HideIt(14)" class="h">Пример (<b id="show14">показать</b>)</b></u><br><div id="14" class="b">
<script type="erm">!#UN:J3/^МойФайлНастроек^;</script>
Путь может содержать папку или абсолютный путь, как эти:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<font class="st" id="erm">^МоиОпции.xxx^</font> - файл в папке героев<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<font class="st" id="erm">^maps\опции.yyy^</font> - файл в папке <i class="file">Maps</i><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<font class="st" id="erm">^C:\xxx.yyy^</font> - файл на диске <i class="file">C:</i></div>
<i>Расширение синтаксиса:</i><br>
<font id="red"><b>J3/^:clear:^</b></font><a href="../Era/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a><br>
Отключает все WoG-опции и устанавливает игровое правило "Использование правил, отмеченных ниже".
<script type="erm">!#UN:J3/^:clear:^;</script>
</p>
<hr noshade><p>
<font id="red"><b><a name="J4"></a>J4/$</b></font><br>
Установить/проверить/получить радиус &laquo;раздумий&raquo; ИИ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 32000 в Дыхании Смерти по 
умолчанию<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 4096 – 
текущее в WoG<br>
<u><b onclick="HideIt(15)" class="h">Комментарий (<b id="show15">показать</b>)</b></u> <div id="15" class="b">Это не кол-во квадратов, анализируемых ИИ. Это общий радиус ИИ, основанный на его очках хода и почве. 
Для травы, один квадрат тратит 100 очков. Значение не сохраняется при сохранении игры. 
Если значение слишком мало, герой ИИ будет просто стоять на месте, не двигаясь вообще.</div></p>
<hr noshade><p>
<font id="red"><b><a name="J5"></a>J5/$</b></font><br>
Разрешить/запретить &laquo;автосохранение&raquo;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 1 – разрешить<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 0 – запретить<br>
<u><b onclick="HideIt(16)" class="h">Комментарий (<b id="show16">показать</b>)</b></u> <div id="16" class="b">
	Статус &quot;запретить&quot; не сохраняется в файле игры, так 
что если вам нужно восстановить отмену, поместите эту команду после триггера 
<a href="../Tr/GM.htm">!?GM0</a>. В большинстве случаев мы рекомендуем не отключать автосохранение, так как 
оно может стать точкой восстановления игры, если что-либо пойдет не так.</div></p>
<hr noshade><p>
<font id="red"><b><a name="J6"></a>J6/#/$</b></font><br>
Генерировать случайный артефакт определённого уровня.
<pre>        # – установить класс
	= -1 – случайный
	= 1 – внеклассовый (Грааль и WoG-артефакты)
	= 2 – сокровище
	= 4 – ценный
	= 8 – важный
	= 16 – реликт
        $ – получить/проверить номер артефакта.</pre>
<u><b onclick="HideIt(17)" class="h">Комментарий (<b id="show17">показать</b>)</b></u><div id="17" class="b">
Функция генерирует только разрешённые артефакты. 
Артефакты 1го класса включают в себя Грааль, Книгу заклинаний, Свиток заклинания и все боевые машины.<br>
Вы можете генерировать артефакт из нескольких классов, например 18 = реликты и сокровища. 
Сгенерированные артефакты в одном и том же триггере НЕ повторятся.<br>
<u>Пример</u>:
<script type="erm">!!UN:J6/16/?v10; - получить случайный реликт в v10.</script></div></p>
<hr noshade><p>
<font id="red"><b><a name="J7"></a>J7/#/$</b></font><br>
Установить/проверить/получить артефакт, продаваемый в торговцах артефактами.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # – номер слота (0..6)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ – номер <a target="form" href="../form/A1.htm">артефакта</a> в слоте<br>
<u><b onclick="HideIt(18)" class="h">Комментарий (<b id="show18">показать</b>)</b></u> <div id="18" class="b">
Вы можете установить, получить или проверить артефакт. &laquo;-1&raquo; значит отсутствие артефакта. Данная команда не работает на Чёрный рынок<br>
<u>Пример</u>:
<script type="erm">!!UN:J7/3/?v10; - получить артефакт в слоте 3
!!UN:J7/v5/v20; - установить артефакт v20 в слот v5</script>
</div></p>
<hr noshade><p>
<font id="red"><b><a name="J8"></a>J8/$1/$2<br>
J8/$1/^Текст^</b></font><br>
Команда, проверяющая существование внешних файлов<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – <a href="#" onclick="hidepic(19)" class="h">место поиска</a>
<div id="19" class="b"><pre id="T0">	0 – в папке героев
	1 – в <i class="file">Data</i>
	2 – в <i class="file">Maps</i>
	3 – в <i class="file">Random maps</i>
	4 – в <i class="file">Games</i>
	5 – в <i class="file">Data/S</i>
	6 – в <i class="file">Data/P</i>
	7 – в <i class="file">Data/ZVS/LIB1.res</i>
	8 – в <i class="file">Data/ZVS/CMP.res</i>
	9 – в <i class="file">ERM_HELP</i>
	10 – полный путь, указанный в <i>z</i>-переменной либо в ^текст^</pre></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – номер <i>z</i>-переменной или 
^текст^ с именем файла.<br>
Флаг 1 установится на истину, если файл существует, иначе - на ложь.</p>
<hr noshade><p>
<font id="red"><b><a name="J9"></a>J9/$1/$2</b></font><br>
Команда копирует путь к папке героев<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – место назначения 
(см. <a href="#J8">UN:J8</a>)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – номер <i>z</i>-переменной, куда 
его записать.<br>
Пример: скопируем путь в z10. Пусть Герои у нас установлены в <i class="file">C:\HOMM\WOG</i>, 
команда <b id="erm"><font class="re">!!UN</font>:J9/2/10;</b><br>
Получаем в z10 следующий текст:
<script type="erm">C:\HOMM\WOG</script></p>
<hr noshade><p>
<font id="red"><b><a name="J10"></a>J10</b></font><br>
Занести переменные в <i class="file">WOGERMLOG.TXT</i><br>
Эту команду можно использовать в любое 
время (записать все ненулевые переменные в файл)</p>
<hr noshade>
<p><font id="red"><b>J11/$</b></font><a href="../Cont/TE.htm" title="Работает только с HoMM3:TE или позднее.."><img src="../Img/te.gif" class="TE"></a><br>
Установить/проверить/получить поведение мыши при клике <img src="../Img/RBM.gif" id="vc"> на вражеском стеке в бою.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ = 0 – окно остаётся на экране (WoG-style).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ = 1 – окно закрывается при отпускании кнопки мыши (SoD-style)<br>
Информация о команде сохраняется в игре.</p>
<hr noshade>
<p><a name="J13"></a><font id="red"><b>J13/$</b></font><a href="../Era/index.htm" title="Работает только с ERA.."><img src="../Img/era.gif" class="TE"></a><br>
Обнуление командиров (в зависимости от текущего состояния <a href="#P2">WoG-опций</a> 3 и 6).</p>
<hr noshade><p>
<font id="red"><b>
<a name="K"></a>K#/$</b></font><br>
Установить параметры &laquo;Новой недели&raquo;<br>
K1/$ – запретить ($ = 1) все &laquo;Неделя &hellip;&raquo; (монстров/бесов) или разрешить ($ = 0)<br>
K2/$ – установить сообщение при наступлении новой недели в текстовую переменную $<i><br>
Примечание</i>: эта команда НЕ отменяет появление недели/месяца Бесов, если в Инферно построен Грааль.</p>
<hr noshade><p>
<font id="red"><b>
<a name="L"></a>L#1/#2/#3/#4</b></font><br>
Переместить взгляд на позицию<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – Y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – L<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – время ожидания (1000 = 1 
секунда)<br>
<u><b onclick="HideIt(20)" class="h">Комментарий (<b id="show20">показать</b>)</b></u> <div id="20" class="b">Пример 
	использования команды - обычный Глаз Мага, открывающий карту, 
но данная команда лишь переносит взгляд. Так же, если вы используете эту команду 
в триггере объекта, имеющего стандартные, не ERM функции, может открыться окно 
обмена между героем и его фантомным клоном. Во избежание этого отключайте 
свойства объекта командой <a href="OB.htm#S">
OB:S</a>, и после выполнения этого ресивера включайте обратно (если нужно).</div></p>
<hr noshade><p>
<font id="red"><b><a name="L1"></a>L#1/#2/$</b></font><br>
Установить/проверить/получить посещён ли обелиск?
<pre>        #1 – <a target="form" href="../form/GamersColor.htm">номер игрока</a> (0..7)
	-2 = для всех
	-1 = для текущего
        #2 – номер обелиска (0..47; -1 = все)
        $ – обелиск посещён (1) или нет (0)</pre></p>
<hr noshade><p>
<font id="red"><b>
<a name="M"></a>M#[/$]</b></font><br>
Установить параметры &laquo;Месяц &hellip;&raquo;<br>
M0 – обычный, неизменённый месяц<br>
M1 – запретить месяца монстров *2 и /2<br>
M2/$ – установить месяц
<a target="form" href="../form/Creature.htm">монстра $</a>*2<br>
M3 – установить месяц чумы (все существа /2) <i><br>
Примечание</i>: месяц Беса, если в Инферно построен Грааль, эта команда НЕ отменяет.</p>
<hr noshade><p>
<font id="red"><b>
<a name="N"></a>N&hellip;</b></font><br>
Узнать название:<br>
<font id="red"><b>N0/z#/$</b></font> – имя <a target="form" href="../form/A1.htm">артефакта</a> ($ = номер)<br>
<font id="red"><b>N1/z#/$</b></font> – имя <a target="form" href="../form/Spell.htm">заклинания</a> ($ = номер)<br>
<font id="red"><b>N2/z#/$1/$2</b></font> 
– <a target="form" href="../form/Buldings.htm">имя здания</a> ($2) в городе $1 (0-8)<br>
<font id="red"><b>N3/z#/$1/$2</b></font> 
– имя <a target="form" href="../form/Creature.htm">монстра</a> ($1) (одиночного: $2=0, 
нескольких: $2 = 1)<br>
<font id="red"><b>N4/z#/$</b></font> – имя <a target="form" href="../form/SecondarySkill.htm">вторичного навыка</a> ($ = номер)<br>
Эта команда позволяет вам получить имя артефакта, заклинания, строения, монстра 
или вторичного навыка по его номеру и занести его в <i>z</i>-переменную для дальнейшего 
использования в сообщениях.<br>
<u>
<b onclick="HideIt(21)" class="h">Пример (<b id="show21">показать</b>)</b></u><br><div id="21" class="b">
<script type="erm">!#UN:N0/z100/5;
!#UN:N1/z101/6;
!#UN:N2/102/7/1;
!#UN:N3/103/8/0;
!#UN:N3/104/8/1;
!#IF:M^=%Z100=%Z101=%Z102=%Z103=%Z104=^;</script></div><br>
<font id="red"><b>N5/#1/#2/#3/#4</b></font><br>
Записать <i>z</i>-переменную в общую секцию файла <i class="file">wog.ini</i>:
<pre>        #1 – номер <i>z</i>-переменной для записи
        #2 – номер опции (любое положительное значение)
        #3 – опциональный параметр - номер <i>z</i>-переменной для записи в пользовательскую секцию
        #4 – опциональный параметр - номер <i>z</i>-переменной, хранящей имя файла (без части &quot;.INI&quot;), можно с абсолютным путём.
<i>Примечание:</i> если вы используете параметр #4, вы должны использовать параметр #3.

<font id="red"><b>N6/#1/#2//#3/#4</b></font>
Прочитать <i>z</i>-переменную из общей секции файла <i class="file">wog.ini</i>:
        #1 – номер <i>z</i>-переменной для сохранения текста
        #2 – номер опции (любое положительное значение)
        #3 – опциональный параметр - номер <i>z</i>-переменной для использования пользовательской секции вместо общей.
        #4 – опциональный параметр - номер <i>z</i>-переменной, хранящей имя файла (без части &quot;.INI&quot;), можно с абсолютным путём.
<i>Примечание:</i> если вы используете параметр #4, вы должны использовать параметр #3.</pre>
<u><b onclick="HideIt(22)" class="h">Комментарий (<b id="show22">показать</b>)</b></u> <div id="22" class="b">Вы можете сохранять и загружать глобальные или местные <i>z</i>-переменные. Номер опции должен быть уникален для процедуры сохранения 
или загрузки (один номер опции на <i>z</i>-переменную). Так, если вы сохранили 
<i>z</i>-переменную как опцию 123456, вы можете загрузить сохранённое значение в любую 
другую <i>z</i>-переменную, используя ту же опцию 123456.<br>
Значение не сохраняется при сохранении игры, но записывается во внешнем INI 
файле (<i class="file">wog,ini</i>, если параметр 4 опущен). Вы можете использовать эту команду без 
проблем как инструкцию. Так, для записи переменной z-1, названной 
&quot;Главная_переменная&quot;, в файл <i class="file">Мой.var</i> в папку <i class="file">GAMES</i> (секция &quot;MyLocalSettings&quot;) 
с опцией 4, используйте:
<script type="erm">!!VRy1:S4;
!!VRz-1:S^Главная_переменная^;
!!VRz-2:S^MyLocalSettings^;
!!VRz-3:S^GAMES\My.var^;
!!UN:N5/z-1/y1/-2/-3;</script></div></p>
<hr noshade><p>
<font id="red"><b>
<a name="O"></a>O$1/$2/$3</b></font><br>
Удалить объект
<pre>        $1 – X
        $2 – Y
        $3 – L (уровень)
<i>Дополнительный синтаксис:</i>
<font id="red"><b>O$1/$2/$3[/#4/#5]</b></font>
Удалить объект в X/Y/L и описание (если было установлено)
        #4 – удалить описание?
	1 – да
	0 – нет (по умолчанию)
        #5 - обновить?
	1 – да (по умолчанию)
	0 – нет</pre>
<u><b onclick="HideIt(23)" class="h">Комментарий (<b id="show23">показать</b>)</b></u> <div id="23" class="b">
В обоих случаях X/Y/L означает правый нижний угол объекта.<br>
Существует несколько таблиц для каждого объекта на карте. И перекрестные ссылки не всегда существуют. 
Обычно Герои используют поиск по координатам. Когда вы удаляете объект, некоторые таблицы остаются 
(храня информацию об удалённом объекте). Если вы затем добавляете новый объект в то же место, 
новая информация будет добавлена в таблицу. Но затем, 
когда игре понадобится получить информацию об этом новом объекте, она начнёт поиск в таблице по позиции. 
Очевидно, что сначала будет найдена информация о старом (удалённом) объекте.<br>
Я рекомендую настроить старый объект, удалить его, поместить новый и снова настроить.<br>
Помните, что эта проблем возможна для объектов одного типа и не в каждом случае.</div></p>
<hr noshade><p>
<font id="red"><b>
<a name="P"></a>P$</b></font><br>
Установить поведение жилищ 8го уровня<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 1 – жилище 8го уровня (после найма не работает)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ = 0 – как обычное<br>
<u><b onclick="HideIt(24)" class="h">Комментарий (<b id="show24">показать</b>)</b></u> <div id="24" class="b">Поведение как у обычного жилища означает, что жилища 
8го уровня будут функционировать как любое другое жилище в игре, т.е. вы должны 
посещать жилище для найма существ каждую неделю, и если как 8го уровня, то они 
только добавятся к соответствующим монстрам восьмого уровня в соответствующем 
замке при соответственном жилище 7го уровня.</div></p>
<hr noshade><p>
<a name="P2"></a><font id="red"><b>P#/$</b></font><br>
Установка WoG-опций<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # - номер опции<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ - статус опции<br>
Некоторые опции:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 0 – поведение жилищ 8го уровня (см. выше)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 1 – опыт стрелковых башен: как в SoD (1) или как в WoG (0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 2 – можно оставлять монстров на карте (1 – нельзя, 0 – можно)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 3 – командиры: 1 – запретить, 0 – разрешить.<br>
<b><u onclick="HideIt(25)" class="h">Комментарий (<b id="show25">показать</b>)</b></u> <div id="25" class="b">Сейчас, если карта имеет 
внутренние скрипты и не имеет команды <b id="erm"><font class="in">!#UN</font>:P3/#</b>, карта запускается в условиях WoG 
3.56 (без командиров и т.п.). Но если карта имеет данную команду (не важно, 
<b id="erm"><font class="in">!#UN</font>:P3/0</b> или <b id="erm"><font class="in">!#UN</font>:P3/1</b>), карта принимается как новая и запускается в условиях 
WoG 3.57 (так, все внутренние особенности WoG устанавливаются из файла настроек 
WoG'ификации или командами UN:P). Сейчас исправлена проблема с невозможностью 
включить командиров инструкцией <b id="erm"><font class="in">!#UN</font>:P3/0</b> при использовании в триггере таймера.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 4 – разрушение замков: запретить (1) или разрешить (0)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 5 – WoGифицировать: нет (0), все карты формата WoG (1), все карты любого 
формата (2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 6 – герои начинают с командирами или нет (0 – с, 1 – без (должен быть нанят)<br>
<u><b onclick="HideIt(26)" class="h">Комментарий (<b id="show26">показать</b>)</b></u> <div id="26" class="b">Чтобы командир нанимался в 
городе за 100 золотых, вместо автоматического получения героем в начале игры, 
нужно использовать <b id="erm"><font class="re">UN</font>:P6/1</b> перед командой <b id="erm"><font class="re">UN</font>:P3/0</b>.</div><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 7 – жилища копят существ: 0 – нет, 1 – да<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 8 – жилища копят охранников: 0 – нет, 1 – да<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 9 – создание Сильванских Кентавров: 1 - разрешено, 0 - нет<br>
<u><b onclick="HideIt(27)" class="h">Комментарий (<b id="show27">показать</b>)</b></u> <div id="27" class="b">
Если включено, Сильванские кентавры могут быть 
бесплатно созданы с помощью Ctrl+левый клик по отряду 
Капитанов-Кентавров или Благородных Эльфов окне героя (ни в каком другом окне). 
Равное число Кентавров и Эльфов будет заменено равным кол-вом Сильванских 
Кентавров. Т.е. 10 Благородных Эльфов плюс 10 Капитанов-Кентавров = 10 
Сильванских кентавров.<br>
<i id="bold">Замечание:</i> Сильванские кентавры начинают с 0 опыта и не сохраняют 
никакого опыта от имеющегося у Кентавров или Эльфов перед комбинацией.</div><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# = 10 – оставленные отряды будут присоединятся обратно 
(1) или нет (0)<br>
<u><b onclick="HideIt(28)" class="h">Комментарий (<b id="show28">показать</b>)</b></u> <div id="28" class="b">Если активно, отряды, оставленные правым 
кликом, присоединятся обратно к герою, если он нападет на них.<br>
<i id="bold">Замечание:</i> весь опыт отряда будет потерян при оставлении существ.</div></p>
<p>
WoGифицированные и не WoGифицированные WoG карты без скриптов будут использовать 
опции WoG выше.<br>
Не-WoGифицированные WoG-карты со скриптами будут иметь отключенных командиров по 
умолчанию. Для их включения вы должны использовать <b id="erm"><font class="re">!!UN</font>:P3/0</b> после начала карты. 
Установка этой команды инструкцией - <b id="erm"><font class="in">!#UN</font>:P3/0</b> - НЕ разрешит командиров на этой карте.<br>
Для установки командиров-наёмников за 1000 золота используйте команду <b id="erm"><font class="re">UN</font>:P6/1</b> перед командой <b id="erm"><font class="re">UN</font>:P3/0</b>. Вы можете вставить обе команды в одну строку:
<script type="erm">!!UN:P6/1 P3/0;</script><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 900 – опыт стеков: 0 – выключен, 1 – включен<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 901 – система опыта стеков: <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
0 – каждое существо получает полное кол-во опыта;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1 – высокое деление: 
существа малого уровня получают больше опыта, чем существа большого уровня; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2 - низкое деление: существа высокого уровня получают больше опыта, чем существа 
малого уровня; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
3 - делится поровну между всеми существами<br>
<u><b onclick="HideIt(29)" class="h">Комментарий (<b id="show29">показать</b>)</b></u> <div id="29" class="b">
	Сейчас система опыта по умолчанию 0. Другие опции 
были использованы ранее, для нахождения лучшей для использования. Хоть и 
отвергнутые, они остались в игре, так что любой может поэкспериментировать с 
данной опцией. Если вы решили использовать альтернативную систему, возможно, 
понадобится также установить более высокий множитель командой <a href="EA.htm#H">EA:H</a> для игроков-людей, и 
<a href="EA.htm#A">EA:A</a> (также, возможно,
<a href="EA.htm#S">EA:S</a> и/или <a href="EA.htm#T">EA:T</a>) для 
игроков-компьютеров, т.к. опыт начнёт делиться между всеми существами в бою, и 
будет существенно меньше.</div><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 902 – можно выбрасывать артефакты на карту: 0 – нет, 1 – да<br>
<u><b onclick="HideIt(30)" class="h">Комментарий (<b id="show30">показать</b>)</b></u> <div id="30" class="b">
	Вы можете использовать старую опцию 2 и новую 902 
вместе:</p>
<table border="0" width="45%">
	<tr>
		<td colspan="2">
		<p align="center">Номер опции</td>
		<td align="center" width="83%" rowspan="2">Эффект</td>
	</tr>
	<tr>
		<td colspan="2">
		<p align="center">Статус</td>
	</tr>
	<tr>
		<td align="center" width="4%">
		<p align="center">2</td>
		<td align="center" width="9%">902</td>
		<td align="center" width="83%">&nbsp;</td>
	</tr>
	<tr>
		<td align="center" width="4%">0</td>
		<td align="center" width="9%">0</td>
		<td align="center" width="83%">можно оставлять 
войска</td>
	</tr>
	<tr>
		<td align="center" width="4%">0</td>
		<td align="center" width="9%">1</td>
		<td align="center" width="83%">можно оставлять 
войска или артефакты</td>
	</tr>
	<tr>
		<td align="center" width="4%">1</td>
		<td align="center" width="9%">0</td>
		<td align="center" width="83%">нельзя оставлять 
ничего</td>
	</tr>
	<tr>
		<td align="center" width="4%">1</td>
		<td align="center" width="9%">1</td>
		<td align="center" width="83%">можно оставлять 
артефакты</td>
	</tr>
</table></div>
<p>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 903 – чит-коды и чит-меню: 0 – разрешить, 1 – запретить<br>
<u><b onclick="HideIt(31)" class="h">Комментарий (<b id="show31">показать</b>)</b></u> <div id="31" class="b">Отключает читы и чит-меню (если разрешены). 
Если включается чит-меню, оно будет показано, даже если отключено этой опцией, 
но не будет производить какого-либо эффекта.<br>
<i>Примечание</i>: хотя коды и отключены в сетевой игре, эта опция позволит 
предотвратить игроками использование читов при загрузке через одиночную игру.</div><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<a name="p904"></a># = 904, 905 – установки появлений сообщений об ошибке. Если 1, любое сообщение 
об ошибке не будет появляться, но опция 905 в любом случае установится на 1. 
Если опция 904 = 0, сообщение будет показано, и опция 905 установится на 1. 
Более того, если сообщение отменено, выполнение скрипта не будет прекращено (в 
секции текущего триггера). Так, вы можете использовать &quot;рискованные&quot; команды.
<u><b onclick="HideIt(32)" class="h">
Пример (<b id="show32">показать</b>)</b></u><div id="32" class="b"><blockquote>
	<script type="erm">!?FU...
...
!!UN:P904/1 P905/0; отменить сообщение о ошибке
!!HE-1:N?v99; получить номер героя в v99
!!UN:P905/?i;
!!FU&i>0:E; выйти, если ошибка

Если вы используете стандартную версию..
!?FU...
...
!!HE-1:N?v99;
..ошибка появится, если герой не участвует в триггере.</script></blockquote></div><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
# = 906 – получение существами опыта: 0 – могут получить, 1 – не 
могут.<br>
<i>Примечание:</i> если вы установите эту опцию на 1, а система опыта будет 
включена, существа не будут получать опыт в битвах, но вы сможете установить 
опыт через ERM.</p>
<hr noshade><p>
<font id="red"><b>
<a name="Q"></a>Q#</b></font><br>
Выиграть или проиграть игру для ТЕКУЩЕГО игрока<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 0 – проиграть<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 1 – выиграть<br>
<i>Расширенный синтаксис:</i><br>
<font id="red"><b>Q#/1</b></font><br>
Если вы используете второй фантомный параметр, победа или проигрыш игры выполняется другими функциями.<br>
Используйте в случае неработоспособности предыдущего.<br>
<u>
<b onclick="HideIt(33)" class="h">Пример (<b id="show33">показать</b>)</b></u><br><div id="33" class="b">
<script type="erm">!!UN:Q0/1; - проигрыш текущего игрока
!!UN:Q1/1; - победа текущего игрока</script></div></p>
<hr noshade>
<p><font id="red"><b>
<a name="R"></a>R#</b></font><br>
Обновить экран<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 1 – обновить карту и экран 
героя (всё с правой стороны)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 2 – обновить строку ресурсов<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 3 – обновить внутри окна героя. 
<a href="#" onclick="hidepic(44)" class="h">Подробнее</a>&hellip;<div id="44" class="b">
<blockquote id="T0"><b id="erm"><font class="re">!!UN</font>:R3/#;</b> - обновить экран <a target="form" href="../Form/NumberHeroes.htm">героя #</a> (-1 – для текущего).<br>
Команда работает ТОЛЬКО пока открыто окно героя (т.е. внутри триггера <a href="../Tr/CM.htm">!?CM2</a>).<br>
Попытка использовать эту команду в другом месте вызовет вылет игры.
</blockquote></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # = 4 – обновить экран города (не используйте вне экрана города!)<hr noshade><p>
<font id="red"><b><a name="R5"></a>R5/$1/$2</b></font><br>
Установить вид курсора<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 –
<a target="form" href="../form/MousePointers.htm">тип курсора</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – подтип курсора<br>
<u><b onclick="HideIt(34)" class="h">Комментарий (<b id="show34">показать</b>)</b></u> <div id="34" class="b">Покажите любой диалог для обратного превращения курсора в стрелку. 
Если вы установили любой курсор, он будет возвращён на обычный после команды <a href="#R7">UN:R7</a>.</div></p>
<hr noshade><p>
<font id="red"><b><a name="R6"></a>R6/$</b></font><br>
Ждать<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ – время в мс (1000 = 1 секунда)</p>
<hr noshade><p>
<font id="red"><b><a name="R7"></a>R7/$1/$2<br>
R7/$1</b></font><br>
Курсор мыши: скрытие и деактивирование<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – показать (0) или скрыть (1) курсор<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – разрешить (0) или запретить (1) изменения курсора<br>
<u><b onclick="HideIt(35)" class="h">Комментарий (<b id="show35">показать</b>)</b></u> <div id="35" class="b">
	Когда вы посещаете любой объект (например, рыболовный колодец), триггер <a href="../Tr/OB.htm">!?OB</a> начинает работу, курсор исчезает. Так что, если ваш скрипт достаточно длинный, вы можете настроить курсор в виде песочных часов 
вручную. Затем, чтобы вернуть курсор по умолчанию, нужно сделать что-либо следующее:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - начать новую игру<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - загрузить игру<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - любое сообщение (можно с ERM)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - любой расширенный диалог WoG<br>
<script type="erm">Так, для рыболовного колодца может быть так:
!!UN:R5/1/1; курсор "песочные часы"
!!UN:R7/0/1;
Затем, если вы покажете сообщение или вопрос:
!!IF:...
снова отменяем курсор:
!!UN:R5/1/1;
!!UN:R7/0/1;
в конце скрипта вы можете включить курсор:
!!UN:R7/0/0;</script></div></p>
<hr noshade><p>
<font id="red"><b>
<a name="S"></a>S#1/#2/#3/#4/#5</b></font><br>
Открыть (показать) часть карты (область – круг)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – X<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – Y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – L (уровень)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – <a target="form" href="../form/GamersColor.htm">игрок</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #5 – радиус<br>
<i id="bold">Замечание:</i> НЕ используйте эту команду для показа подземелья в 
одноуровневой карты (это повлечёт за собой критические ошибки в прорисовке)</p>
<hr noshade><p>
<font id="red"><b>
<a name="T"></a>T#1/#2/#3/$</b></font><br>
Установить монстра для найма в замке<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – <a target="form" href="../form/Towns.htm">тип города</a> 
(0..8)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – уровень (0..6)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – базовый (0) или улучшенный 
(1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ – <a target="form" href="../form/Creature.htm">тип монстра</a><br>
<u><b onclick="HideIt(36)" class="h">Комментарий (<b id="show36">показать</b>)</b></u> <div id="36" class="b">Команда работает во 
	всех городах, включительно ИИ. Вы можете установить команду как инструкцию. Помните, что вы можете усилить 
&quot;важность&quot; существа для ИИ установкой ИИ значения командой <a href="MA.htm#I">!!MA:I</a>. 
Дополнительные ресурсы предполагаются только для жилища 7го уровня.</div></p>
<hr noshade><p>
<font id="red"><b>
<a name="U"></a>U#1/#2/?$</b></font><br>
Сосчитать все объекты на карте<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 –
<a target="form" href="../form/Objects.htm">тип объекта</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 –
<a target="form" href="../form/Objects.htm">подтип объекта</a> (-1 – любой)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ – кол-во объектов типа 
#1, подтипа #2 (только проверить или получить)<br>
<u><b onclick="HideIt(46)" class="h">Комментарий (<b id="show46">показать</b>)</b></u><div id="46" class="b">
Если вы подсчитываете города, то помните, что в начале игры счётчик не учитывает случайные города 
(т.к. они имеют <a target="form" href="../form/Objects.htm">тип</a> 77, а не 98). Будьте внимательны.<br>
<u>Пример</u>:
<script type="erm">!!UN:U54/i/?n;
В переменной n теперь хранится кол-во объектов типа 54 и подтипа i.</script></div></p>
<hr noshade><p>
<font id="red"><b><a name="U1"></a>U#1/#2/#3/#4</b></font><br>
Получить координаты объекта<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – <a target="form" href="../form/Objects.htm">тип объекта</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – <a target="form" href="../form/Objects.htm">подтип объекта</a> (-1 – любой)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – номер объекта (1&hellip;последний 
объект; -1 – с первого объекта, -2 – с последнего объекта)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – <i>v</i>-переменная с коодинатами: v[#4]=X; v[#4+1] = Y; v[#4+2] = L<br>
<u>Пример</u>:
<script type="erm">!!UN:U54/i/3/324; 
v324, v325, v326 теперь содержат координаты объекта типа 54, подтипа i и под номером 3.</script>
<u><b onclick="HideIt(37)" class="h">Комментарий (<b id="show37">показать</b>)</b></u> <div id="37" class="b">
Все объекты считаются так: слева направо, сверху вниз; поверхность, а потом подземелье.<br>
<table class="o" border=0>
<tr><td>0</td><td>1</td><td>3</td><td>6</td></tr>
<tr><td>2</td><td>4</td><td>7</td></tr>
<tr><td>5</td><td>8</td></tr>
<tr><td>9</td></tr>
</table>
</div>
<u><b onclick="HideIt(38)" class="h">Техника быстрого поиска (<b id="show38">показать</b>)</b></u><br><div id="38" class="b">
Если вы используете синтаксис поиска объекта 
UN:Uтип/подтип/номер/номер_переменной, вы можете установить номер на -1. Это 
означает, что поиск объекта будет вестись, основываясь на координатах 
предыдущего найденного объекта того же типа.<br>
В стандартном синтаксисе (номер = 1&hellip;) UN:U проверяет все объекты такого типа 
до нахождения искомого номера. Это долгий процесс на больших картах, особенно 
если это часто встречающийся объект.<br>
С новым синтаксисом (номер = -1) координаты возвращаются в 
v[номер_переменной]/v[номер_переменной+1]/v[номер_переменной+2], и поиск 
следующего объекта ведётся не с начала карты, а с последнего найденного. Поясняю 
- процесс идёт быстрее, но требует вашего НЕ вмешательства в переменные с 
координатами последнего найденного объекта.<br>
<u>
<b onclick="HideIt(39)" class="h">Пример 1 (<b id="show39">показать</b>)</b></u><br><div id="39" class="b">
<ul><li>Этот скрипт работает нормально
<script type="erm">!!UN:U53/-1/1/1; (получить координаты шахты 1: v1/v2/v3)...
!!VRv1:S99; (изменить v1 на что-либо)
...
!!UN:U53/-1/2/1; (получить координаты шахты 2: v1/v2/v3)
...</script></li>
<li>Этот скрипт работает <i>неправильно!</i> v1 была изменена
<script type="erm">!!UN:U53/-1/1/1; (получить координаты шахты 1: v1/v2/v3)
...
!!VRv1:S99; (изменить v1 на что-либо)
...
!!UN:U53/-1/-1/1; (получить координаты 'следующей' шахты (2): v1/v2/v3)
...</script></li>
<li>Этот скрипт работает нормально
<script type="erm">!!UN:U53/-1/1/1; (получить координаты шахты 1: v1/v2/v3)
... (v1/v2/v3 НЕ изменялись)
!!UN:U53/-1/-1/1; (получить координаты 'следующей' шахты (2): v1/v2/v3)
... (v1/v2/v3 НЕ изменялись)
!!UN:U53/-1/-1/1; (получить координаты 'следующей' шахты (3): v1/v2/v3)
...</script></li>
<li>Этот скрипт работает нормально
<script type="erm">!!VRv1:S-1; (начать поиск с первого объекта на карте)
!!UN:U53/-1/-1/1; (получить координаты 'следующей' шахты (1): v1/v2/v3)
... (v1/v2/v3 НЕ изменялись)
!!UN:U53/-1/-1/1; (получить координаты 'следующей' шахты (2): v1/v2/v3)
... (v1/v2/v3 НЕ изменялись)
!!UN:U53/-1/-1/1; (получить координаты 'следующей' шахты (3): v1/v2/v3)
...</script></li></ul></div>
<u>
<b onclick="HideIt(40)" class="h">Пример 2 (<b id="show40">показать</b>)</b></u><br><div id="40" class="b">
<script type="erm">ZVSE

!#TM1:S1/999/1/1; установить таймер 1 для красного

!?TM1;
!!UN:U16/-1/?v100;
!!VRv1:S-1;
!!IF:M^Найдено %V100 банков существ. Теперь пройдемся через все:^;
!!DO123/1/v100/1:P;

!!IF:M^Пелена окутывает вас...^;
!!UN:H72/72/1/1/100; закрыть для красного

!!VRv1:S-2;
!!IF:M^Теперь в обратном порядке^;
!!DO124/1/v100/1:P;

!?FU123;
!!UN:U16/-1/-1/1;
!!UN:Sv1/v2/v3/0/3; Открыть для красного
!!UN:Lv1/v2/v3/100; Передвинуть взгляд на 100 мс

!?FU124;
!!UN:U16/-1/-2/1;

!!UN:Sv1/v2/v3/0/3; открыть для красного
!!UN:Lv1/v2/v3/100; передвинуть взгляд на 100 мс</script>
Скрипт прокрутит перед вами все банки существ в обычном и обратном порядке.</div>
</div></p>
<hr noshade><p>
<font id="red"><b>
<a name="V"></a>V?$1/?$2</b></font><br>
Получить версию WoG и используемого ERM.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – версия WoG (3.58 = 358)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – версия ERM (2.81 = 281)<br>
<i id="bold">Замечание:</i> для ERA версия игры = 400, версия ERM = [версия ERA] &times; 1000<br>
<u><b onclick="HideIt(41)" class="h">Комментарий (<b id="show41">показать</b>)</b></u> <div id="41" class="b">
Вы можете только проверить или получить значение, но не установить.<br>
Используйте команду инструкцией для проверки на наличие у игрока нужной версии 
и затем покажите сообщение для игрока об устаревшей версии дополнения, если она такова. 
Это лучше, чем если игрок пройдёт половину карты перед тем, 
как наткнётся на некорректный для данной версии скрипт и не закончит карту.<br>
<u>Пример</u>:
<script type="erm">!#UN:V?y1/?y2;
!#IF|y1<358/y2<280:M^Для работы этой карты нужен WoG не старее 3.58 и версией ERM не старее 2.80.
Пожалуйста, обновите свои файлы.^;</script></div></p>
<hr noshade><p>
<font id="red"><b>V?$1/?$2/?$3/?$4/?$5</b></font><br>
Получить версию WoG и используемого ERM. Продвинутый синтаксис:
<pre>        $1 – версия WoG
        $2 – версия используемого ERM
        $3 – один или более людей в игре
	= 1 – человек один
	= 2 – больше одного
        $4 – один или более ПК в игре
	= 0 – один ПК
	= 1 – больше одного
        $5 – тип игры
	= 0 – один игрок
	= 1 – IPX
	= 2 – TCP/IP
	= 3 – Hot Seat
	= 4 – Direct Connect
	= 5 – модем
<i>Расширенный синтаксис:</i>
<font id="red"><b>V?$1/?$2/$?3/?$4/?$5/?$6/?$7</b></font>
        $1&hellip;$5 – см. выше
        $6 – чит-меню: активировано (1) или отключено (0)
        $7 – использование читов: было (1) или нет (0)</pre>
<u><b onclick="HideIt(42)" class="h">Комментарий (<b id="show42">показать</b>)</b></u> <div id="42" class="b">
	Вы не можете включить или отключить статус использования читов, но можете узнать его.<br>
В мультиплеере коды не работают. Если вы отменили коды, это сработает для кодов с клавиатуры и для чит-меню 
(даже если оно было включено)</div></p>
<hr noshade><p>
<font id="red"><b>
<a name="W"></a>W#1/#2/#3/#4/#5</b></font><br>
Сделать линию воды доступной для героя, но не для лодки.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #1 – X1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #2 – Y1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #3 – X2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #4 – Y2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #5 – L (уровень)<br>
<i>Дополнительный синтаксис:</i><br>
<font id="red"><b>W#X1/#Y1/#X2/#Y2/#L/$</b></font><br>
Поместить/удалить путь (бревна) на воде<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ – поместить (1) или убрать (0)</p>
<hr noshade><p>
<font id="red"><b>
<a name="X"></a>X?$1/?$2</b></font><br>
Получить размер карты<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $1 – номер переменной, куда занесётся размер (X=Y)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $2 – равно 0 (один уровень) и 1 (подземелье/поверхность).<br>
Можно только проверить или получить.<br>
<u><b onclick="HideIt(43)" class="h">Пример (<b id="show43">показать</b>)</b></u><div id="43" class="b">
<script type="erm">!#UN:X?i/?j;
!#VRz1:S^только один уровень^;
!#VRz1&j=1:S^два уровня^;
!#IF:M^Карта имеет %Z1 и размер X=%Vi Y=%Vi^;</script>
</div></p>
<hr noshade>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</DIV>
<script src="../erm.js"></script></body></html>