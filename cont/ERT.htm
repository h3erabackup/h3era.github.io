<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>ERT</title>
<LINK REL="stylesheet" MEDIA="screen" TYPE="text/css" HREF="../style.css">
</head>
<body>
<p align="center"><b><font size="5"> Поддержка локализаций скриптов<br>
Файлы .ERT<br>
(Слава)</font></b></p>
<p>Меня просили упростить методы перевода текстов в скрипте.&nbsp; <br>
Дело в том, что если автор изменит свой скрипт, придётся потратить массу 
времени, чтобы проверить весь скрипт и перевести сообщения. Я предложил сделать 
отдельный файл для каждого скрипта (опциональный), который будет хранить все 
текстовые элементы скрипта.<br>
Теперь, вы можете делать файлы script##.ert , который 
имеет особый формат:<br>
<b>Номер(целое) <i>[tab]</i> Текст <i>[tab]</i> Любой 
комментарий &hellip;<br>
</b>Две колонки обязательны, другие - опциональны (комментарии не загружаются и не 
сохраняются в игру).<br>
Одна линия - один элемент.<br>
Номер означает число, которое будет использоваться в скрипте для доступа к 
тексту.<br>
Номер должен быть в переделах от 0 до 1000000.<br>
Если номер 0 (или пустой), линия игнорируется и не загружается.<br>
Если номер между 1 и 1000, текст будет автоматически скопирован в 
соответствующую <i>z</i>-переменную при загрузке скрипта (ещё 
до выполнения инструкций).<br>
Так, если у вас следующая строка:<br>
<b>123<i>[tab]</i>Это текст<i>[tab]</i>Комментарий<br>
</b>и в вашем скрипте имеется следующая инструкция:<br>
<b>!#IF:M1/z123;</b><br>
Вы увидите сообщение &quot;Это текст&quot; при загрузке карты.<br>
Это метод инициализировать <i>z</i>-переменную в файле.<br>
Было:<br>
<b>!#VRz321:S^Привет, странник!^;<br>
</b>&hellip;<br>
Теперь вы удаляете эту линию скрипта и добавляете линию в ert-файл:<br>
<b>321<i>[tab]</i>Привет, странник!<i>[tab]</i>Начальное сообщение, когда герой 
входит в&hellip;<br>
</b>Для получения доступа к тексту вы используете тот же метод, что и для
<i>z</i>-переменных, но с номером больше 1000.<br>
Если в вашем скрипте есть <i>z</i>-переменная, использующаяся 
для хранения имени или текста, вы можете освободить эту переменную и не 
использовать её вообще, если добавите линию в ert-файл 
с номером более 1000 и поменяете код.<br>
Тогда, если у вас было что-то вроде:<br>
<b>!#IF:M^Вы ещё не готовы.^;</b><br>
вы должны изменить ваш скрипт на:<br>
<b>!#IF:M1/z123456;</b><br>
и добавить строку в ert-файл:<br>
<b>123456<i>[tab]</i>Вы ещё не готовы.<i>[tab]</i>Комментарий<br>
</b>Вы не можете использовать эти дополнительные <i>z</i>-переменные 
для изменения любых стандартных текстов игры (имена артефактов и т.д). 
Ограничения такие же, как и в локальных <i>z</i>-переменных (z-1&hellip;z-10). 
С одним исключением. Вы можете использовать дополнительные <i>z</i>-переменные 
в качестве текста-подсказки в <b><a href="../Rec/HT.htm">HT:</a>T</b>,<b>P</b>,<b>V</b>,<b>W</b>,<b><a href="../Rec/OB.htm">OB</a>:H</b>, 
<b><a href="../Rec/HO.htm">HO</a>:H</b>. Единственное ограничение, что в этом случае номер не должен быть 
выше 32000.<br>
Вы можете сравнивать дополнительные <i>z</i>-переменные в 
секциях <b>&amp;</b> и<b> |</b>.<br>
Вы можете также использовать ссылки на другие переменные:<br>
<b>3333<i>[tab]</i>Привет, %Z55555!<i>[tab]</i>&hellip;<br>
55555<i>[tab]</i>Оррин<i>[tab]</i><br>
</b>Вы можете включать дополнительные <i>z</i>-переменные в 
сообщения посредством %Z (как обычно).<br>
ERT-файл загружается, если имеется и корректно 
загрузился соответствующий файл .erm.<br>
Все дополнительные <i>z</i>-переменные являются общими для 
всех .ert файлов. Так, если вы используете те же 
номера в нескольких .ert файлах, вы получите 
соответствующее сообщение, и карта не загрузится.<br>
Переменные выше 1000 не имеют ограничения на длину (обычные ограничены 255 символами).</p>
<p><b>Рекомендую делить пространство дополнительных <i>z</i>-переменных 
следующим способом:<br>
</b>Номера 1000&hellip;10000 пока зарезервированы<br>
Номера 10000&hellip;20000 (100 переменных на скрипт для нужд подсказок).<br>
Script00 10000&hellip;10099,<br>
Script01 10100&hellip;10199&hellip;<br>
(номер 1##00 &hellip; 1##99, где ## это номер скрипта)<br>
Номера 20000&hellip;100000 пока зарезервированы.<br>
Номера 100000&hellip;200000 (1000 переменных на скрипт для различных текстов).<br>
Script00 100000&hellip;100999,<br>
Script01 101000&hellip;101999,<br>
(номер 1##000 &hellip; 1##999, где ## это номер скрипта)</p></body></html>
